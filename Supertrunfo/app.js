var cartaYoda = {
    nome: "Yoda",
    imagem: "https://static3.srcdn.com/wordpress/wp-content/uploads/2019/02/Blue-ghost-Yoda.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
    ataque: 100, 
    defesa: 100,
    força: 100
 }
 }
 
 var cartaLuke = {
   nome: "Luke Skywalker",
    imagem: "https://static2.srcdn.com/wordpress/wp-content/uploads/2018/09/Star-Wars-Luke-Skywalker-Tatooine.jpg?q=50&fit=crop&w=740&h=370",
    atributos:{
     ataque: 95, 
     defesa: 100,
     força: 95
 }
 }  
 
 var cartaRey = {
    nome: "Rey",
    imagem: "https://static0.srcdn.com/wordpress/wp-content/uploads/2019/02/Rey-in-The-Last-Jedi.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 95, 
     defesa: 95,
     força: 95
 }
 }
 
 var cartaObi_wan = {
    nome: "Obi-Wan Kenobi",
    imagem: "https://static2.srcdn.com/wordpress/wp-content/uploads/2019/02/Obi-Wan-Kenobi-on-Tatooine.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
       ataque: 90, 
       defesa: 90,
       força:  92
    }
 
 }
 
 var cartaMace = {
    nome: "Mace Windu",
    imagem: "https://static3.srcdn.com/wordpress/wp-content/uploads/2019/02/Mace-Windu.jpg?q=50&fit=crop&w=740&h=555",
    atributos:{
     ataque: 88, 
     defesa: 90,
     força: 90
 }
 }
 
 var cartaQui_Gon = {
    nome: "Qui-Gon Jinn",
    imagem: "https://static2.srcdn.com/wordpress/wp-content/uploads/2019/02/Qui-Gon-Jinn.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 85, 
     defesa: 88,
     força: 90
 }
 }
 
 var cartaAnakin = {
    nome: "Anakin",
    imagem: "https://rollingstone.uol.com.br/media/_versions/hayden-christensen-reprod-lucasfilm-cortado_widelg.jpg",
    atributos:{
     ataque: 90, 
     defesa: 70,
     força: 90
   }
 }
 
 var cartaKi_Adi_Mundi = {
    nome: "Ki-Adi-Mundi",
    imagem: "https://static1.srcdn.com/wordpress/wp-content/uploads/2019/02/Ki-Adi-Mundi.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 80, 
     defesa: 85,
     força: 80
 }
 }
 
 var cartaKit = {
    nome: "Kit Fisto",
    imagem: "https://static3.srcdn.com/wordpress/wp-content/uploads/2019/02/Kit-Fisto.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 75, 
     defesa: 83,
     força: 80
 }
 }
 
 var cartaLuminara = {
    nome: "Luminara Unduli",
    imagem: "https://static1.srcdn.com/wordpress/wp-content/uploads/2019/02/Luminara-Unduli.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 73, 
     defesa: 79,
     força: 75
 }
 }
 
 var cartaBen = {
    nome: "Ben Solo",
    imagem: "https://static2.srcdn.com/wordpress/wp-content/uploads/2019/02/Ben-Solo.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 70, 
     defesa: 70,
     força: 73
 }
 }
 
 var cartaDepa = {
    nome: "Depa Billaba",
    imagem: "https://static1.srcdn.com/wordpress/wp-content/uploads/2019/02/Depa-Billaba.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 65, 
     defesa: 68,
     força: 70
 }
 }
 
 var cartaAhsoka = {
    nome: "Ahsoka Tano",
    imagem: "https://static2.srcdn.com/wordpress/wp-content/uploads/2019/02/Ahsoka-Tano.jpg?q=50&fit=crop&w=740&h=398",
    atributos:{
      ataque: 75, 
      defesa: 60,
      força:  60
   }
 } 
 
 var cartaEzra_Bridger = {
    nome: "Ezra Bridger",
    imagem: "https://static2.srcdn.com/wordpress/wp-content/uploads/2019/02/Ezra-Bridger.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 62, 
     defesa: 60,
     força: 65
 }
 }
 
 var cartaPlo_Koon = {
    nome: "Plo Koon",
    imagem: "https://static2.srcdn.com/wordpress/wp-content/uploads/2019/02/Plo-Koon.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 60, 
     defesa: 58,
     força: 63
 }
 }
 
 var cartaKanan_Jarrus = {
    nome: "Kanan Jarrus",
    imagem: "https://static1.srcdn.com/wordpress/wp-content/uploads/2019/02/Kanan-Jarrus.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 55, 
     defesa: 55,
     força: 55
 }
 }
 
 var cartaSifo_Dyas = {
    nome: "Sifo-Dyas",
    imagem: "https://static0.srcdn.com/wordpress/wp-content/uploads/2019/02/Sifo-Dyas.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 50, 
     defesa: 52,
     força: 55
 }
 }
 
 var cartaJocasta_Nu = {
    nome: "Jocasta Nu",
    imagem: "https://static1.srcdn.com/wordpress/wp-content/uploads/2019/02/Jocasta-Nu.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 50, 
     defesa: 58,
     força: 50
 }
 }
 
 var cartaShaak_Ti = {
    nome: "Shaak Ti",
    imagem: "https://static3.srcdn.com/wordpress/wp-content/uploads/2019/02/Shaak-Ti-and-clone-troopers.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 50, 
     defesa: 50,
     força: 50
 }
 }
 
 var cartaBarriss_Offee = {
    nome: "Barriss Offee",
    imagem: "https://static2.srcdn.com/wordpress/wp-content/uploads/2019/02/Barriss-Offee.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 50, 
     defesa: 45,
     força: 45
 }
 }
 
 var cartaAayla_Secura = {
    nome: "Aayla Secura",
    imagem: "https://static1.srcdn.com/wordpress/wp-content/uploads/2019/02/Aayla-Secura.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 70, 
     defesa: 45,
     força: 60
 }
 }
 
 var cartaYaddle = {
    nome: "Yaddle",
    imagem: "https://static2.srcdn.com/wordpress/wp-content/uploads/2019/02/Yaddle.jpg?q=50&fit=crop&w=740&h=416",
    atributos:{
     ataque: 50, 
     defesa: 45,
     força: 40
 }
 }
 
 var cartas = [cartaAnakin, cartaAhsoka, cartaObi_wan, cartaYoda, cartaLuke, cartaRey, cartaMace, cartaQui_Gon, cartaKi_Adi_Mundi, cartaKit, cartaLuminara, cartaBen, cartaDepa, cartaEzra_Bridger, cartaPlo_Koon, cartaKanan_Jarrus, cartaSifo_Dyas, cartaJocasta_Nu, cartaShaak_Ti, cartaBarriss_Offee, cartaAayla_Secura, cartaYaddle]
 
 var pontosJogador = 0
 var pontosMaquina = 0
 
 atualizaPlacar()
 atualizaQuantidadeDeCartas()
 
 function atualizaQuantidadeDeCartas() {
   var divQuantidadeCartas = document.getElementById('quantidade-cartas')
   var html = "Quantidade de cartas no jogo: " + cartas.length
   
   divQuantidadeCartas.innerHTML = html
 }
 
 function atualizaPlacar() {
   var divPlacar = document.getElementById('placar')
   var html = "Jogador " + pontosJogador + " / " + pontosMaquina + " Máquina"
   divPlacar.innerHTML = html
 }
 
 function sortearCarta() {
   var numeroCartaMaquina = parseInt(Math.random() * cartas.length)
   cartaMaquina = cartas[numeroCartaMaquina] 
   cartas.splice(numeroCartaMaquina, 1)
   
   
   var numeroCartaJogador = parseInt(Math.random() * cartas.length)
   cartaJogador = cartas[numeroCartaJogador] 
   cartas.splice(numeroCartaJogador, 1)
   
   document.getElementById('btnSortear').disabled = true
   document.getElementById('btnJogar').disabled = false
   
   exibeCartaJogador()
 }
 
 function exibeCartaJogador() {
   var divCartaJogador = document.getElementById('carta-jogador') 
   var moldura = '<img src="https://www.alura.com.br/assets/img/imersoes/dev-2021/card-super-trunfo-transparent-ajustado.png" style=" width: inherit; height: inherit; position: absolute;">' 
  divCartaJogador.style.backgroundImage=`url(${cartaJogador.imagem})`
  var nome = `<p class="carta-subtitle">${cartaJogador.nome}</p>`
  opcoesTexto = ""
   
   for (var atributo in cartaJogador.atributos) {
     opcoesTexto += "<input type='radio' name='atributo' value='" + atributo + "'>" + atributo + " " + cartaJogador.atributos[atributo] + "<br>"
   }
   
   var html = "<div id='opcoes' class='carta-status'>"
   
   divCartaJogador.innerHTML = moldura+nome+html+opcoesTexto+'</div>'
 }
 
 function obtemAtributoSelecionado(){
   var radioAtributo = document.getElementsByName('atributo')
   for (var i = 0; i< radioAtributo.length; i++){
     if(radioAtributo[i].checked){
       return radioAtributo[i].value
     }
   }
 }
 
 function jogar() {
    var divResultado = document.getElementById("resultado")
    var atributoSelecionado = obtemAtributoSelecionado()
    if(cartaJogador.atributos[atributoSelecionado] > cartaMaquina.atributos[atributoSelecionado]){
      htmlResultado = '<p class="resultado-final">Venceu</p>' 
      pontosJogador++
      
    } else if (cartaJogador.atributos[atributoSelecionado] < cartaMaquina.atributos[atributoSelecionado]){
      htmlResultado = '<p class="resultado-final">Perdeu</p>' 
      pontosMaquina++
      
    } else {
      htmlResultado = '<p class="resultado-final">Empatou</p>' 
    }  
   
   if (cartas.length == 0){
      alert("FIM DE JOGO")
     if(pontosJogador > pontosMaquina){
       htmlResultado = '<p class="resultado-final">VOCÊ GANHOU O JOGO</p>'
     } else if(pontosJogador == pontosMaquina) {
       htmlResultado = '<p class="resultado-final">VOCÊ EMPATOU COM A MÁQUINA</p>'
     } else {
       htmlResultado = '<p class="resultado-final">VOCÊ PERDEU O JOGO</p>'
     }
   } else { document.getElementById('btnProximaRodada').disabled = false
   }
  
   divResultado.innerHTML = htmlResultado
   document.getElementById('btnJogar').disabled = true
   
   atualizaPlacar()
   exibeCartaMaquina()
   atualizaQuantidadeDeCartas()
     
 }
 
 function proximaRodada(){
   var divCartas = document.getElementById('wrapper')
   
   divCartas.innerHTML = `<div>
                     <div id="carta-jogador"></div>
                 </div>
                     <div id="resultado"></div>
                 <div>
                     <div id="carta-maquina" class="carta"></div>
                 </div>`
  
   document.getElementById('btnSortear').disabled = false
   document.getElementById('btnJogar').disabled = true
   document.getElementById('btnProximaRodada').disabled = true
   
   var divResultado = document.getElementById('resultado')
   divResultado.innerHMTL = ""
 }
 
 function exibeCartaMaquina() {
   var divCartaJogador = document.getElementById('carta-maquina') 
   var moldura = '<img src="https://www.alura.com.br/assets/img/imersoes/dev-2021/card-super-trunfo-transparent-ajustado.png" style=" width: inherit; height: inherit; position: absolute;">' 
  divCartaJogador.style.backgroundImage=`url(${cartaMaquina.imagem})`
  var nome = `<p class="carta-subtitle">${cartaMaquina.nome}</p>`
  opcoesTexto = ""
   
   for (var atributo in cartaMaquina.atributos) {
     opcoesTexto += "<p type='text' name='atributo' value='" + atributo + "'>" + atributo + " " + cartaMaquina.atributos[atributo] + "</p>"
   }
   
   var html = "<div id='opcoes' class='carta-status'>"
   
   divCartaJogador.innerHTML = moldura+nome+html+opcoesTexto+'</div>'
 }
 
 